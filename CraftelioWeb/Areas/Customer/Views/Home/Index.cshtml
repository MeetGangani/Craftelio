@model IEnumerable<Craftelio.Models.Product>

<style>
    .carousel-item img {
        width: 100%;
        height: 400px;
        object-fit: cover;
    }

    .carousel-caption {
        background-color: rgba(0, 0, 0, 0.5);
        padding: 15px;
        border-radius: 5px;
        color: #fff;
    }

        .carousel-caption h5 {
            font-size: 1.5rem;
            font-weight: bold;
            color: aliceblue;
        }

        .carousel-caption p {
            font-size: 1rem;
            color: aliceblue;
        }

    .category-filter {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
    }

    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .card {
        transition: transform 0.2s;
    }

        .card:hover {
            transform: scale(1.05);
        }

    .featured-products {
        background-color: #f9f9f9;
        padding: 40px 0;
    }

    .about-us {
        background-color: #ffffff;
        padding: 60px 0;
    }

    .testimonials {
        background-color: #f0f0f0;
        padding: 60px 0;
    }

    .newsletter {
        background-color: #e9ecef;
        padding: 40px 0;
    }

    .social-proof {
        background-color: #ffffff;
        padding: 40px 0;
    }
</style>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<!-- Carousel Section -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/CImages/c1.webp" class="d-block" alt="Slide 1">
            <div class="carousel-caption d-none d-md-block">
                <h5>Unique Artisan Pottery</h5>
                <p>Handcrafted with love by our skilled artisans.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="~/CImages/c2.webp" class="d-block" alt="Slide 2">
            <div class="carousel-caption d-none d-md-block">
                <h5>Exclusive Jewelry Collection</h5>
                <p>Discover one-of-a-kind designs made just for you.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="~/CImages/c3.png" class="d-block" alt="Slide 3">
            <div class="carousel-caption d-none d-md-block">
                <h5>Artisan Textiles</h5>
                <p>Expertly crafted fabrics that tell a story.</p>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Featured Products Section -->
<section class="featured-products">
    <div class="container">
        <h2 class="text-center mb-4">Featured Products</h2>
        <div class="row">
            <div id="productList" class="row pb-3">
                @await Html.PartialAsync("_ProductList", Model)
            </div>
        </div>
    </div>
</section>

<!-- About Us Section -->
<section class="about-us">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h2>About Craftelio</h2>
                <p>At Craftelio, we celebrate the art of handmade craftsmanship. Our platform brings together talented artisans from around the world, offering you a curated selection of unique, high-quality products.</p>
                <p>Every item in our collection tells a story - of tradition, innovation, and the passionate individuals behind each creation.</p>
                <a href="#" class="btn btn-outline-primary">Learn More About Us</a>
            </div>
            <div class="col-md-6">
                <img src="~/images/about_pic.jpg" alt="Craftelio Artisans" class="img-fluid rounded">
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials">
    <div class="container">
        <h2 class="text-center mb-4">What Our Customers Say</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <p class="card-text">"The quality of the handmade jewelry I received was outstanding. It's now my favorite piece!"</p>
                        <footer class="blockquote-footer">Meet G.</footer>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <p class="card-text">"I love the unique designs and craftsmanship of the artisan products. They truly stand out!"</p>
                        <footer class="blockquote-footer">Abhay H.</footer>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <p class="card-text">"Craftelio offers such beautiful pieces that you can't find anywhere else!"</p>
                        <footer class="blockquote-footer">Isha J.</footer>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h3>Stay Updated with Craftelio</h3>
                <p>Subscribe to our newsletter for the latest product releases, artisan stories, and exclusive offers.</p>
                <form class="row g-3 justify-content-center">
                    <div class="col-auto">
                        <input type="email" class="form-control" id="emailInput" placeholder="Enter your email">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary mb-3">Subscribe</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Handle category selection
            $(document).on('click', '.category-select', function (e) {
                e.preventDefault();
                var categoryId = $(this).data('category-id');
                loadProducts(categoryId);
            });

            function loadProducts(categoryId) {
                $('#loadingOverlay').css('display', 'flex');

                $.ajax({
                    url: '@Url.Action("GetProductsByCategory", "Home", new { area = "Customer" })',
                    type: 'GET',
                    data: { categoryId: categoryId },
                    success: function (response) {
                        $('#productList').html(response);
                    },
                    error: function (xhr, status, error) {
                        console.error('Error:', error);
                        toastr.error('Error loading products. Please try again.');
                    },
                    complete: function () {
                        $('#loadingOverlay').css('display', 'none');
                    }
                });
            }
        });
    </script>
}
